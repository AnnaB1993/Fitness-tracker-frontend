{"version":3,"sources":["auth/index.js","api/index.js","components/SingleRoutine.js","components/Routines.js","components/Home.js","components/Header.js","components/Activities.js","components/Register.js","components/Login.js","components/Logout.js","components/NewRoutine.js","components/MyRoutines.js","components/NewActivity.js","index.js"],"names":["storeCurrentUser","user","localStorage","setItem","JSON","stringify","getCurrentUser","parse","getItem","storeCurrentToken","token","getCurrentToken","BASE","a","axios","get","data","console","log","error","registerUser","userObject","post","validateStatus","status","loginUser","obj","headers","Authorization","username","response","makeNewRoutine","name","goal","isPublic","fetch","method","body","json","result","makeNewActivity","description","deleteRoutine","routineId","SingleRoutine","singleRoutine","setUserRoutines","routinesList","userRoutines","id","creatorName","activities","deleteRoutineHandler","newArrayRoutines","filter","className","map","activity","duration","count","routineActivityId","onClick","e","preventDefault","Routines","routine","Home","Header","to","activeClassName","Activities","activitiesList","Register","props","setUser","setToken","history","useHistory","useState","setName","password","setPassword","onSubmit","push","message","alert","type","placeholder","value","onChange","target","Login","Logout","removeItem","NewRoutine","setGoal","setIsPublic","defaultChecked","MyRoutines","NewActivity","setNameActivity","setDescription","App","setRoutines","setActivities","useEffect","getAllRoutines","then","routines","catch","getAllActivities","getUserRoutines","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.79e8e435.chunk.js","sourcesContent":["export function storeCurrentUser(user) {\r\n  localStorage.setItem(\"currentUser\", JSON.stringify(user));\r\n}\r\n\r\nexport function getCurrentUser() {\r\n  const ourUser = JSON.parse(localStorage.getItem(\"currentUser\"));\r\n  return ourUser;\r\n}\r\n\r\nexport function clearCurrentUser() {\r\n  localStorage.removeItem(\"currentUser\");\r\n}\r\n\r\nexport function storeCurrentToken(token) {\r\n  localStorage.setItem(\"token\", token);\r\n}\r\n\r\nexport function getCurrentToken() {\r\n  return localStorage.getItem(\"token\");\r\n}\r\n\r\nexport function clearCurrentToken() {\r\n  localStorage.removeItem(\"token\");\r\n}\r\n","import axios from \"axios\";\r\nimport { getCurrentUser, getCurrentToken } from \"../auth\";\r\nconst BASE = \"https://fitnesstrac-kr.herokuapp.com/api\";\r\n\r\nexport async function getAllRoutines() {\r\n  try {\r\n    const { data } = await axios.get(`${BASE}/routines`);\r\n    console.log(data);\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function getAllActivities() {\r\n  try {\r\n    const { data } = await axios.get(`${BASE}/activities`);\r\n    console.log(data);\r\n    return data;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n}\r\n\r\nexport async function registerUser(userObject) {\r\n  try {\r\n    return axios.post(`${BASE}/users/register`, userObject, {\r\n      validateStatus: function (status) {\r\n        return (status >= 200 && status < 300) || status === 401; // default\r\n      },\r\n    });\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n}\r\n\r\nexport async function loginUser(userObject) {\r\n  try {\r\n    return axios.post(\r\n      \"https://fitnesstrac-kr.herokuapp.com/api/users/login\",\r\n      userObject\r\n    );\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n}\r\n\r\nexport async function getMe(token) {\r\n  const obj = {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  };\r\n  try {\r\n    console.log(response.data.username);\r\n    return axios.get(`${BASE}/users/me`, obj);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}\r\n\r\nexport async function getUserRoutines(token) {\r\n  // const token = getCurrentToken();\r\n  const obj = {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  };\r\n  try {\r\n    // const me = await getMe(token);\r\n    // const username = me.username;\r\n    // console.log(me);\r\n    const user = getCurrentUser();\r\n    const username = user.username;\r\n    const response = await axios.get(`${BASE}/users/${username}/routines`, obj);\r\n    console.log(response);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}\r\n\r\nexport async function makeNewRoutine(name, goal, isPublic) {\r\n  const token = getCurrentToken();\r\n  try {\r\n    const response = await fetch(\r\n      \"https://fitnesstrac-kr.herokuapp.com/api/routines\",\r\n      {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify({\r\n          name,\r\n          goal,\r\n          isPublic,\r\n        }),\r\n      }\r\n    );\r\n    const result = await response.json();\r\n    console.log(result);\r\n    return result;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n}\r\n\r\nexport async function makeNewActivity(name, description) {\r\n  const token = getCurrentToken();\r\n  try {\r\n    return await fetch(\"https://fitnesstrac-kr.herokuapp.com/api/activities\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        name,\r\n        description,\r\n      }),\r\n    });\r\n    // const result = await response.json();\r\n    // console.log(result);\r\n    // return result;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n}\r\n\r\nexport async function deleteRoutine(routineId) {\r\n  const token = getCurrentToken();\r\n  try {\r\n    const response = fetch(`${BASE}/routines/${routineId}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n    const result = await response.json();\r\n    return result;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { deleteRoutine } from \"../api\";\r\nimport { getCurrentUser } from \"../auth\";\r\nimport \"./SingleRoutine.css\";\r\n\r\nconst SingleRoutine = ({\r\n  singleRoutine,\r\n  routinesList,\r\n  setUserRoutines,\r\n  userRoutines,\r\n}) => {\r\n  const user = getCurrentUser();\r\n  const { id, name, creatorName, goal, activities } = singleRoutine;\r\n  const deleteRoutineHandler = async (routineId) => {\r\n    const result = await deleteRoutine(routineId);\r\n\r\n    const newArrayRoutines = userRoutines.filter(\r\n      (singleRoutine) => singleRoutine.id !== result.id\r\n    );\r\n    setUserRoutines(newArrayRoutines);\r\n  };\r\n\r\n  return (\r\n    <div className=\"routine\">\r\n      <p id=\"name-id\">Routine: {name}</p>\r\n      <p id=\"creatorName-id\"> by {creatorName}</p>\r\n      <p id=\"goal-id\">Goal is: {goal}</p>\r\n      <div id=\"routine-activities\">\r\n        Activities for this routine:\r\n        {activities &&\r\n          activities.map((activity) => {\r\n            const { description, duration, count } = activity;\r\n            return (\r\n              <div\r\n                key={activity.routineActivityId}\r\n                className=\"activity-dropdown\"\r\n              >\r\n                <p>Description: {description}</p>\r\n                <p>Duration: {duration}</p>\r\n                <p>Count: {count}</p>\r\n              </div>\r\n            );\r\n          })}\r\n        {user && user.username === creatorName ? (\r\n          <footer>\r\n            <button>Update</button>\r\n            <button\r\n              id=\"delete-routine-button\"\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                deleteRoutineHandler(singleRoutine.id);\r\n              }}\r\n            >\r\n              Delete\r\n            </button>\r\n          </footer>\r\n        ) : (\r\n          \" \"\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SingleRoutine;\r\n","import React, { useState, useEffect } from \"react\";\r\n// import \"./Header.css\";\r\n\r\nimport axios from \"axios\";\r\nimport SingleRoutine from \"./SingleRoutine\";\r\nimport \"./Routines.css\"\r\n\r\n\r\nconst Routines = ({ routinesList }) => {\r\n\r\n  console.log(routinesList);\r\n  return (\r\n    <div className=\"all-routines\">\r\n      {routinesList.map((routine) => {\r\n        return (<SingleRoutine \r\n          key={routine.id} singleRoutine={routine}/>);\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Routines;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport axios from \"axios\";\r\nconst Home = ({ user }) => {\r\n  return user ? (\r\n    <div id=\"home\">Click buttons to change content, {user.username}</div>\r\n  ) : (\r\n    <div id=\"home\">Click buttons to change content</div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport \"./Header.css\";\r\n\r\nconst Header = ({ user }) => {\r\n  return (\r\n    <header className=\"app-header\">\r\n      <h2>FITNESS APP</h2>\r\n      <>\r\n        <NavLink to=\"/home\" activeClassName=\"current\">\r\n          Home\r\n        </NavLink>\r\n        <NavLink to=\"/routines\" activeClassName=\"current\">\r\n          Routines\r\n        </NavLink>\r\n        <NavLink to=\"/activities\" activeClassName=\"current\">\r\n          Activities\r\n        </NavLink>\r\n        {user ? (\r\n          <>\r\n            {\" \"}\r\n            <NavLink to=\"/my-routines\" activeClassName=\"current\">\r\n              {user.username}'s Routines\r\n            </NavLink>\r\n            <NavLink to=\"/my-activities\" activeClassName=\"current\">\r\n              Create new activity\r\n            </NavLink>\r\n            <NavLink to=\"/logout\" activeClassName=\"current\">\r\n              Log out\r\n            </NavLink>\r\n          </>\r\n        ) : (\r\n          <>\r\n            {\" \"}\r\n            <NavLink to=\"/login\" activeClassName=\"current\">\r\n              Log in\r\n            </NavLink>\r\n            <NavLink to=\"/register\" activeClassName=\"current\">\r\n              No account? Register\r\n            </NavLink>\r\n          </>\r\n        )}\r\n      </>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport \"./Activities.css\";\r\nimport \"./SingleActivity.css\"\r\n\r\nconst Activities = ({ activitiesList }) => {\r\n  return (\r\n    <div className=\"all-activities\">\r\n      {activitiesList.map((activity) => {\r\n        const { id, description, name } = activity;\r\n        return (\r\n          <div className=\"activity\" key={activity.id}>\r\n            {name} - {description}\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Activities;\r\n","import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { registerUser, makeNewRoutine } from \"../api\";\r\nimport { storeCurrentToken, storeCurrentUser } from \"../auth\";\r\n\r\nconst Register = (props) => {\r\n  const { setUser, setToken } = props;\r\n  const history = useHistory();\r\n  const [name, setName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  // const [passwordConfirm, setPasswordConfirm] = useState(\"\");\r\n\r\n  return (\r\n    <form\r\n      id=\"register-form\"\r\n      onSubmit={async (e) => {\r\n        e.preventDefault();\r\n        const response = await registerUser({ username: name, password });\r\n        console.log(response);\r\n        if (response.status === 200) {\r\n          storeCurrentUser(response.data.user);\r\n          storeCurrentToken(response.data.token);\r\n          setUser(response.data.user);\r\n          setToken(response.data.token);\r\n          history.push(\"/home\");\r\n          //update state and redirect\r\n        } else if (response.status === 401) {\r\n          //error message from the response\r\n          console.error(response.data.message);\r\n        } else {\r\n          alert(\"something went wrong, try again\");\r\n          //show generic error message\r\n        }\r\n      }}\r\n    >\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Your name here\"\r\n        value={name}\r\n        onChange={(e) => {\r\n          setName(e.target.value);\r\n        }}\r\n      />\r\n      <br></br>\r\n      <br></br>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Your password\"\r\n        value={password}\r\n        onChange={(e) => {\r\n          setPassword(e.target.value);\r\n        }}\r\n      />\r\n      {/* <br></br>\r\n      <br></br>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Confirm password\"\r\n        value={passwordConfirm}\r\n        onChange={(e) => {\r\n          setPasswordConfirm(e.target.value);\r\n        }}\r\n      /> */}\r\n      <br></br>\r\n      <br></br>\r\n      <input type=\"submit\" value=\"Sigh up\" />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import React, { useState } from \"react\";\r\nimport { loginUser, getMe} from \"../api\";\r\nimport { useHistory } from \"react-router\";\r\nimport { storeCurrentUser, clearCurrentUser, getCurrentUser, storeCurrentToken} from \"../auth\";\r\n\r\nconst Login = ({ setUser, setToken }) => {\r\n  const [name, setName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <form\r\n      id=\"login-form\"\r\n      onSubmit={async (e) => {\r\n        e.preventDefault();\r\n        const response = await loginUser({ username: name, password });\r\n        if (response.status === 200) {\r\n          storeCurrentUser(response.data.user);\r\n          storeCurrentToken(response.data.token);\r\n          setToken(response.data.token);\r\n          setUser(response.data.user);\r\n          history.push(\"/home\");\r\n        } else if (response.status === 401) {\r\n          console.error(response.data.message);\r\n        } else {\r\n          alert(\"something is wrong, try again\");\r\n        }\r\n        console.log(response);\r\n      }}\r\n    >\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Your name here\"\r\n        value={name}\r\n        onChange={(e) => {\r\n          setName(e.target.value);\r\n        }}\r\n      />\r\n      <br></br>\r\n      <br></br>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Your password\"\r\n        value={password}\r\n        onChange={(e) => {\r\n          setPassword(e.target.value);\r\n        }}\r\n      />\r\n      <br></br>\r\n      <br></br>\r\n      <input type=\"submit\" value=\"Sigh in\" />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\nimport { clearCurrentUser, getCurrentUser, clearCurrentToken, storeCurrentUser } from \"../auth\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst Logout = ({ setUser, setToken }) => {\r\n  const user = getCurrentUser();\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <div id=\"logout\">\r\n      Would you like to log out, {user.username}?\r\n      <button\r\n        onClick={(e) => {\r\n          e.preventDefault();\r\n          clearCurrentUser();\r\n          clearCurrentToken();\r\n          setUser(\"\");\r\n          setToken(\"\");\r\n          history.push(\"/home\");\r\n        }}\r\n      >\r\n        Yes\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Logout;\r\n","import React, { useState, useHistory } from \"react\";\r\nimport { getCurrentUser } from \"../auth\";\r\nimport { makeNewRoutine } from \"../api\";\r\nconst NewRoutine = ({ userRoutines, setUserRoutines }) => {\r\n  const [name, setName] = useState(\"\");\r\n  const [goal, setGoal] = useState(\"\");\r\n  const [isPublic, setIsPublic] = useState(false);\r\n\r\n  return (\r\n    <form\r\n      id=\"new-routine\"\r\n      onSubmit={async (e) => {\r\n        e.preventDefault();\r\n        const response = await makeNewRoutine(name, goal, isPublic);\r\n        const user = getCurrentUser();\r\n        response.creatorName = user.username;\r\n        console.log(userRoutines);\r\n        setUserRoutines([...userRoutines, response]);\r\n        console.log(response);\r\n      }}\r\n    >\r\n      {\" \"}\r\n      New Routine\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Name\"\r\n        value={name}\r\n        onChange={(e) => {\r\n          setName(e.target.value);\r\n        }}\r\n      ></input>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Goal\"\r\n        value={goal}\r\n        onChange={(e) => {\r\n          setGoal(e.target.value);\r\n        }}\r\n      ></input>\r\n      <label>Is it public</label>\r\n      <input\r\n        type=\"checkbox\"\r\n        id=\"isPublic\"\r\n        defaultChecked={isPublic}\r\n        onChange={(e) => {\r\n          setIsPublic(e.target.value);\r\n        }}\r\n      />\r\n      <input type=\"submit\" value=\"Create\" />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default NewRoutine;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport NewRoutine from \"./NewRoutine\";\r\nimport SingleRoutine from \"./SingleRoutine\";\r\n\r\nimport { getCurrentUser } from \"../auth\";\r\n\r\nconst MyRoutines = ({ userRoutines, setUserRoutines }) => {\r\n  const user = getCurrentUser();\r\n  console.log(userRoutines);\r\n  return (\r\n    <div className=\"user-routines\">\r\n      {userRoutines ? (\r\n        userRoutines.map((routine) => {\r\n          // const { name, creatorName, goal, activities } = routine;\r\n          return ( \r\n            <SingleRoutine \r\n              key={routine.id}\r\n              singleRoutine={routine}\r\n              setUserRoutines={setUserRoutines}\r\n            />\r\n          );\r\n        })\r\n      ) : (\r\n        <div>No routines yet</div>\r\n      )}{\" \"}\r\n      {user && (\r\n        <footer>\r\n          <NewRoutine\r\n            userRoutines={userRoutines}\r\n            setUserRoutines={setUserRoutines}\r\n          />\r\n        </footer>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyRoutines;\r\n","import React, { useState } from \"react\";\r\nimport { makeNewActivity } from \"../api\";\r\n\r\nconst NewActivity = ({ activitiesList }) => {\r\n  const [name, setNameActivity] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  return (\r\n    <form\r\n      id=\"new-activity\"\r\n      onSubmit={async (e) => {\r\n        e.preventDefault();\r\n        const response = await makeNewActivity(name, description);\r\n        // activitiesList.push(response);\r\n        console.log(response);\r\n      }}\r\n    >\r\n      {\" \"}\r\n      New Activity\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Name\"\r\n        value={name}\r\n        onChange={(e) => setNameActivity(e.target.value)}\r\n      ></input>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Description\"\r\n        value={description}\r\n        onChange={(e) => setDescription(e.target.value)}\r\n      ></input>\r\n      <input type=\"submit\" value=\"Create\" />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default NewActivity;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Switch,\r\n  Redirect,\r\n  NavLink,\r\n} from \"react-router-dom\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport {\r\n  Header,\r\n  Routines,\r\n  Home,\r\n  Activities,\r\n  Register,\r\n  Login,\r\n  Logout,\r\n  MyRoutines,\r\n  NewActivity,\r\n  SingleRoutine,\r\n  NewRoutine\r\n} from \"./components\";\r\nimport {\r\n  getAllRoutines,\r\n  getAllActivities,\r\n  getMe,\r\n  getUserRoutines,\r\n} from \"./api\";\r\n\r\nimport { getCurrentUser, getCurrentToken } from \"./auth\";\r\n\r\nconst App = () => {\r\n  const [user, setUser] = useState(getCurrentUser());\r\n  const [token, setToken] = useState(getCurrentToken());\r\n\r\n  const [routinesList, setRoutines] = useState([]);\r\n  const [activitiesList, setActivities] = useState([]);\r\n  const [userRoutines, setUserRoutines] = useState([]);\r\n  const [userActivities, setUserActivities] = useState([]);\r\n\r\n  useEffect(() => {\r\n    getAllRoutines()\r\n      .then((routines) => setRoutines(routines))\r\n      .catch((error) => {\r\n        console.error(error);\r\n      });\r\n\r\n    getAllActivities()\r\n      .then((activities) => setActivities(activities))\r\n      .catch((error) => {\r\n        console.error(error);\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n\r\n    // getCurrentToken()\r\n    // .then((token) => \r\n    getUserRoutines(token)\r\n      .then((routines) => setUserRoutines(routines))\r\n      .catch((error) => console.error(error));\r\n\r\n      \r\n  }, [user]);\r\n\r\n  return (\r\n    <Router>\r\n      <div id=\"App\">\r\n        <Header user={user} />\r\n        <Switch>\r\n          <Route path=\"/routines\">\r\n            <Routines routinesList={routinesList} />\r\n          </Route>\r\n          <Route path=\"/activities\">\r\n            <Activities activitiesList={activitiesList} />\r\n          </Route>\r\n          <Route path=\"/register\">\r\n            <Register setUser={setUser} setToken={setToken} />\r\n          </Route>\r\n          <Route path=\"/home\">\r\n            <Home user={user} />\r\n          </Route>\r\n          <Route path=\"/login\">\r\n            <Login setUser={setUser} setToken={setToken} />\r\n          </Route>\r\n          <Route path=\"/logout\">\r\n            <Logout setUser={setUser} setToken={setToken} />\r\n          </Route>\r\n          <Route path=\"/my-routines\">\r\n            <MyRoutines userRoutines={userRoutines} setUserRoutines={setUserRoutines}/>\r\n          </Route>\r\n          <Route path=\"/my-activities\">\r\n            <NewActivity activitiesList={activitiesList}/>\r\n          </Route>\r\n        </Switch>\r\n      </div>{\" \"}\r\n    </Router>\r\n  );\r\n};\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}